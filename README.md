# ë‚˜ë§Œì˜ ì¶•êµ¬ ê²½ê¸° ë¶„ì„ ì†”ë£¨ì…˜ - ë°©êµ¬ì„FCâš½ï¸

## Project Overviewâš½ï¸
----

#### ê°œë°œí™˜ê²½
conda ê°€ìƒí™˜ê²½ ìƒì„±
* python3.8
* requirements.txt íŒ¨í‚¤ì§€ ì„¤ì¹˜
<br>
<br>


#### ì‚¬ìš© DATA
wyscout soccer match event dataset ì‚¬ìš©
* Version 5 ì‚¬ìš©
* https://figshare.com/collections/Soccer_match_event_dataset/4415000/5
<br>
<br>
<br>

#### ê°œë°œëª©ì 
ë°©êµ¬ì„FC í”„ë¡œì íŠ¸ëŠ” ì¶•êµ¬ ê²½ê¸° ì´ë²¤íŠ¸ ë°ì´í„°ë¥¼ ê°€ê³µí•˜ì—¬ ê²½ê¸°ì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ì‹œê°í™” ìë£Œë¥¼ ì œê³µí•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.
1. íŒ¨ìŠ¤ ê²½ë¡œ ì‹œê°í™”
2. ê³µê²©ì´ë²¤íŠ¸ ìŠ¤í€€ìŠ¤ ì‹œê°í™”
3. ì„ ìˆ˜ë³„, ê²½ê¸°ë³„ íˆíŠ¸ë§µ ì‹œê°í™”
4. ëŒ€íšŒë³„, ì„ ìˆ˜ë³„ xG ì‹œê°í™”

<br>

ì‹œê°í™”ëœ ìë£Œë¥¼ ë°”íƒ•ìœ¼ë¡œ ê° ê²½ê¸°ë³„ ì„ ìˆ˜ë³„ í–‰ë™ íŒ¨í„´, íŒ€ì˜ ì „ëµ, ìŠ›ì˜ ê¸°ëŒ€ë“ì  í¬í¼ë¨¼ìŠ¤ ë“±ì— ëŒ€í•œ í†µì°°ë ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

í•´ë‹¹ dataëŠ” wyscout soccerì—ì„œ ì œê³µí•˜ëŠ” 7ê°œì˜ ë¦¬ê·¸(ëŒ€íšŒ)ì˜ ë°ì´í„°ë¥¼ í™œìš©í•˜ì˜€ìœ¼ë©°,
class101 íŒŒì´í˜• ì¸ê°„ë‹˜ì˜ ì½”ë“œë¥¼ ì°¸ì¡°í•˜ì˜€ìŠµë‹ˆë‹¤.

Logistic Regression ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ë¡œì§€ìŠ¤í‹± íšŒê·€ ë¶„ì„ì„ ìˆ˜í–‰í•˜ì˜€ìœ¼ë©°,
ë°©êµ¬ì„ì—ì„œ ì¶•êµ¬ë¥¼ ì¦ê¸°ëŠ” ë§ì€ ì´ë“¤ì—ê²Œ ì¡°ê¸ˆ ë” ì „ë¬¸ì ì¸ ì‹œì ì—ì„œì˜ ì¶•êµ¬ë¥¼ ê°ìƒí•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

<br>


![Example Image](img/ex.gif)

<br>

### ê°œë°œì–¸ì–´
* python
<br>
<br>

### ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬
1. numpy
2. pandas
3. matplotlib
4. plotly

<br>
<br>

### ì†”ë£¨ì…˜ êµ¬ì„±
1. data: ì‹œê°í™”ì— í•„ìš”í•œ ë°ì´í„°ë“¤ì´ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.
  * í•„ìš”ì˜ ê²½ìš° ì§ì ‘ ë°ì´í„° íŒŒì¼ì„ í•´ë‹¹ í´ë”ì— ë„£ì–´ì£¼ì„¸ìš”.
2. img: ì‹œê°í™”í•œ íŒŒì¼ë“¤ì´ ì €ì¥ë©ë‹ˆë‹¤.
3. scr: ì†”ë£¨ì…˜ ì‹¤í–‰ì— í•„ìš”í•œ ì½”ë“œë“¤ì´ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.
4. xgml.py: xG ë¨¸ì‹ ëŸ¬ë‹ ì½”ë“œì…ë‹ˆë‹¤.
5. requirements.txt ì†”ë£¨ì…˜ ì‹¤í–‰ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ ëª©ë¡ì…ë‹ˆë‹¤.
6. output.png: README.mdë¥¼ ìœ„í•œ íŒŒì¼ì…ë‹ˆë‹¤.
7. 1~5.ipynb: ì†”ë£¨ì…˜ì„ ì‹¤ì§ˆì ìœ¼ë¡œ ë™ì‘ì‹œí‚¤ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.
  * ê° íŒŒì¼ë³„ë¡œ ìˆœì„œì— ë§ê²Œ ì‹¤í–‰ì‹œí‚¤ì…”ì•¼ í•©ë‹ˆë‹¤.

<br>
<br>


## ì‹¤í–‰ ë°©ë²• ë° ì½”ë“œ&ê²°ê³¼ ì˜ˆì‹œ
----

#### 1. ë°ì´í„° ì¤€ë¹„ 
#### ë°ì´í„°ë¥¼ ì¤€ë¹„í•¨ìœ¼ë¡œì¨, ë°©êµ¬ì„FC ì†”ë£¨ì…˜ ì´ìš©ì„ ì¤€ë¹„í•©ë‹ˆë‹¤.

* <span style="color:skyblue">**"1 ë°ì´í„° ì¤€ë¹„ipynb"**</span> íŒŒì¼ì„ í†µí•´ refinde_eventsíŒŒì¼ì„ ì¤€ë¹„í•´ì£¼ì„¸ìš”.
    * ë°ì´í„°ê°€ í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ githubì—ëŠ” ì›”ë“œì»µ ë°ì´í„°ë§Œ ì—…ë¡œë“œ í•˜ì˜€ìŠµë‹ˆë‹¤. 1 ë°ì´í„° ì¤€ë¹„ íŒŒì¼ì„ í†µí•´ ë‹¤ë¥¸ ëŒ€íšŒ ë°ì´í„°ë¥¼ ë‹¤ìš´ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    * <small><small> data_utils.py Reference </small></small>



<br>

#### 2. ì›í•˜ëŠ” ê²½ê¸° ì°¾ê¸°
#### ì‘ì›í•˜ëŠ” íŒì˜ ê²½ê¸° ì •ë³´ë¥¼ ë¶„ì„í•˜ê¸° ìœ„í•œ ì¤€ë¹„ ê³¼ì •ì…ë‹ˆë‹¤.
* <span style="color:skyblue">**"2 ë¶„ì„ í¬ë§ ë°ì´í„° ì°¾ê¸°.ipynb"**</span> íŒŒì¼ì„ í†µí•´ ë¶„ì„ì„ í¬ë§í•˜ëŠ” ê²½ê¸°ì˜ match_idë¥¼ ì¤€ë¹„í•˜ì„¸ìš”.
    * ê° ëŒ€íšŒë³„ ì°¸ì—¬ íŒ€ì˜ ì •ë³´ë¥¼ í™•ì¸í•œ ë’¤, ë¶„ì„ì„ í¬ë§í•˜ëŠ” íŒ€ì˜ ê²½ê¸°ë¥¼ ì°¾ì•„ match_idë¥¼ íšë“í•©ë‹ˆë‹¤.


```python
import pandas as pd
dataset_name = 'World_Cup'
#ì›í•˜ëŠ” ëŒ€íšŒì˜ ì´ë¦„ì„ dataset_nameìœ¼ë¡œ ë³€ê²½í•˜ë©´ ì •ë³´ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
#ex) England, European_Championship, France, Germany, Italy, Spain, World_Cup
match_df = pd.read_csv(f'data/refined_events/{dataset_name}/matches.csv', index_col=0, encoding='utf-8-sig')
match_df

```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gameweek</th>
      <th>datetime</th>
      <th>venue</th>
      <th>team1_id</th>
      <th>team1_name</th>
      <th>team1_goals</th>
      <th>team2_id</th>
      <th>team2_name</th>
      <th>team2_goals</th>
      <th>duration</th>
    </tr>
    <tr>
      <th>match_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2057954</th>
      <td>1</td>
      <td>2018-06-14 15:00:00</td>
      <td>Olimpiyskiy stadion Luzhniki</td>
      <td>14358</td>
      <td>Russia</td>
      <td>5</td>
      <td>16521</td>
      <td>Saudi Arabia</td>
      <td>0</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2057955</th>
      <td>1</td>
      <td>2018-06-15 12:00:00</td>
      <td>Stadion Central'nyj</td>
      <td>16129</td>
      <td>Egypt</td>
      <td>0</td>
      <td>15670</td>
      <td>Uruguay</td>
      <td>1</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2057961</th>
      <td>1</td>
      <td>2018-06-15 15:00:00</td>
      <td>Stadion Krestovskyi</td>
      <td>16216</td>
      <td>Morocco</td>
      <td>0</td>
      <td>10840</td>
      <td>Iran</td>
      <td>1</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2057960</th>
      <td>1</td>
      <td>2018-06-15 18:00:00</td>
      <td>Olimpiyskiy Stadion Fisht</td>
      <td>9905</td>
      <td>Portugal</td>
      <td>3</td>
      <td>1598</td>
      <td>Spain</td>
      <td>3</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2057966</th>
      <td>1</td>
      <td>2018-06-16 10:00:00</td>
      <td>Kazan' Arena</td>
      <td>4418</td>
      <td>France</td>
      <td>2</td>
      <td>8493</td>
      <td>Australia</td>
      <td>1</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2058012</th>
      <td>0</td>
      <td>2018-07-07 18:00:00</td>
      <td>Olimpiyskiy Stadion Fisht</td>
      <td>14358</td>
      <td>Russia</td>
      <td>2</td>
      <td>9598</td>
      <td>Croatia</td>
      <td>2</td>
      <td>Penalties</td>
    </tr>
    <tr>
      <th>2058014</th>
      <td>0</td>
      <td>2018-07-10 18:00:00</td>
      <td>Stadion Krestovskyi</td>
      <td>4418</td>
      <td>France</td>
      <td>1</td>
      <td>5629</td>
      <td>Belgium</td>
      <td>0</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2058015</th>
      <td>0</td>
      <td>2018-07-11 18:00:00</td>
      <td>Olimpiyskiy stadion Luzhniki</td>
      <td>9598</td>
      <td>Croatia</td>
      <td>2</td>
      <td>2413</td>
      <td>England</td>
      <td>1</td>
      <td>ExtraTime</td>
    </tr>
    <tr>
      <th>2058016</th>
      <td>0</td>
      <td>2018-07-14 14:00:00</td>
      <td>Stadion Krestovskyi</td>
      <td>5629</td>
      <td>Belgium</td>
      <td>2</td>
      <td>2413</td>
      <td>England</td>
      <td>0</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2058017</th>
      <td>0</td>
      <td>2018-07-15 15:00:00</td>
      <td>Olimpiyskiy stadion Luzhniki</td>
      <td>4418</td>
      <td>France</td>
      <td>4</td>
      <td>9598</td>
      <td>Croatia</td>
      <td>2</td>
      <td>Regular</td>
    </tr>
  </tbody>
</table>
<p>64 rows Ã— 10 columns</p>
</div>



<br>

#### ì›”ë“œì»µì— ì°¸ê°€í•œ íŒ€ ì¤‘ í•œêµ­ì„ ë¶„ì„í•˜ê³  ì‹¶ë‹¤ë©´
#### í•œêµ­íŒ€ì´ ë›´ ê²½ê¸°ë§Œì„ ë¶ˆëŸ¬ì™€ match_idë¥¼ íšë“í•œë‹¤.


```python
myteam = 'Korea Republic'
match_df[(match_df['team1_name'] == myteam) | (match_df['team2_name'] == myteam)]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gameweek</th>
      <th>datetime</th>
      <th>venue</th>
      <th>team1_id</th>
      <th>team1_name</th>
      <th>team1_goals</th>
      <th>team2_id</th>
      <th>team2_name</th>
      <th>team2_goals</th>
      <th>duration</th>
    </tr>
    <tr>
      <th>match_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2057985</th>
      <td>1</td>
      <td>2018-06-18 12:00:00</td>
      <td>Stadion Nizhny Novgorod</td>
      <td>7047</td>
      <td>Sweden</td>
      <td>1</td>
      <td>14855</td>
      <td>Korea Republic</td>
      <td>0</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2057987</th>
      <td>2</td>
      <td>2018-06-23 15:00:00</td>
      <td>Rostov Arena</td>
      <td>14855</td>
      <td>Korea Republic</td>
      <td>1</td>
      <td>15473</td>
      <td>Mexico</td>
      <td>2</td>
      <td>Regular</td>
    </tr>
    <tr>
      <th>2057988</th>
      <td>3</td>
      <td>2018-06-27 14:00:00</td>
      <td>Kazan' Arena</td>
      <td>14855</td>
      <td>Korea Republic</td>
      <td>2</td>
      <td>3148</td>
      <td>Germany</td>
      <td>0</td>
      <td>Regular</td>
    </tr>
  </tbody>
</table>
</div>



<br>
<br>

#### 3. íŒ¨ìŠ¤, ìŠˆíŒ…ì˜ ì‹œê°í™”
#### ì›í•˜ëŠ” ì‹œê°„ëŒ€ì—ì„œ ì¼ì–´ë‚œ íŒ¨ìŠ¤, ìŠˆíŒ… ë‚´ìš©ì„ ì‹œê°í™”í•˜ì—¬ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* <span style="color:skyblue">**"3 íŒ¨ìŠ¤, ìŠˆíŒ… ì‹œê°í™”.ipynb"**</span> íŒŒì¼ì„ í†µí•´ ì›í•˜ëŠ” ê²½ê¸° ì‹œê°„ëŒ€ì˜ íŒ¨ìŠ¤, ìŠˆíŒ… ë‚´ìš©ì„ í™•ì¸í•´ë³´ì„¸ìš”.
    * match_id, ë¶„ì„ì„ í¬ë§í•˜ëŠ” ì‹œì‘ ~ ì¢…ë£Œ ì‹œê°„,ë¦¬ê·¸ ì´ë¦„ì„ ë„£ì–´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.

    <br>

* match_id 2057988 ëŒ€í•œë¯¼êµ­ vs ë…ì¼ì˜ ê²½ê¸° 0~1ë¶„ ì‚¬ì´ì— ë°œìƒí•œ íŒ¨ìŠ¤ì— ëŒ€í•œ ì‹œê°í™”ì…ë‹ˆë‹¤.




```python
#ìœ„, ì•„ë˜, ì¤‘ê°„ ì½”ë“œëŠ” ìƒëµ ë˜ì—ˆìŠµë‹ˆë‹¤. ( ê²°ê³¼ë¬¼ ì¶œë ¥ í›„ ipynbì—ì„œ ì‚­ì œì²˜ë¦¬)
# 3 íŒ¨ìŠ¤ ì‹œê°í™”.ipynbì—ì„œ ì‹¤í–‰ í•´ì£¼ì„¸ìš”.

match_id = 2057988 #ì›í•˜ëŠ” ê²½ê¸°ì˜ match_idë¡œ ë³€ê²½í•´ë³´ì„¸ìš”.
dataset_name = 'World_Cup'

start_time = 0  # ì›í•˜ëŠ” ì‹œì‘ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”.(ë¶„)
end_time = 1  # ì›í•˜ëŠ” ì¢…ë£Œ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš”.(ë¶„)

draw_pitch('white', 'black')
#ê²½ê¸°ì¥ì„ ê·¸ë ¤ì£¼ëŠ” ì½”ë“œ (ì¸ì1 = ë°°ê²½ìƒ‰, ì¸ì2 = ë¼ì¸ìƒ‰)

plt.legend(fontsize=20, bbox_to_anchor=(1, 1))
#plt.savefig('img/pass_arrow.png', bbox_inches='tight')
plt.show()
```


    
![png](output_15_0.png)
    


<br>
<br>

#### 4. ê³µê²© ì´ë²¤íŠ¸ ì‹œí€€ìŠ¤ ì‹œê°í™”
#### ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ ê³µê²©ì„ ì§„í–‰í–ˆëŠ”ì§€ í•œëˆˆì— ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* <span style="color:skyblue">**"4 ê³µê²© ì´ë²¤íŠ¸ ìŠ¤í€€ìŠ¤ ì‹œê°í™”.ipynb"**</span> íŒŒì¼ì„ í†µí•´ ì›í•˜ëŠ” ê²½ê¸° ê³µê²© ì§„í–‰ ë‚´ìš©ì„ í™•ì¸í•´ë³´ì„¸ìš”.
    * ë¶„ì„ì„ í¬ë§í•˜ëŠ” match_id, ë¦¬ê·¸ ì´ë¦„ì„ ë„£ì–´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤. ("2 ë¶„ì„ í¬ë§ ë°ì´í„° ì°¾ê¸°.ipynb" ì°¸ê³ )
    * ì›í•˜ëŠ” ê³µê²© ìŠ¤í€€ìŠ¤_ã…‡ë¥¼ ì°¾ì•„ì„œ ì…ë ¥í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.

* ê³µê²© ìŠ¤í€€ìŠ¤ë€?: ê³µì„ ìŠ¤í‹¸ ë‹¹í•˜ê±°ë‚˜, íŒ¨ìŠ¤ ë¯¸ìŠ¤, ì „/í›„ë°˜ ì¢…ë£Œ, ë¼ì¸ ì•„ì›ƒ ë“±ì˜ ìƒí™©ì´ ì¼ì–´ë‚˜ì§€ ì•Šê³  ì§€ì†ì ìœ¼ë¡œ ê³µê²©ê¶Œì´ ìœ ì§€ë˜ëŠ” ì‹œê°„ì„ í•˜ë‚˜ì˜ ìŠ¤í€€ìŠ¤ë¡œ ë´…ë‹ˆë‹¤.
* ì•„ë˜ ì˜ˆì‹œ ì½”ë“œì™€ ì¶œë ¥ë¬¼ì€ World_Cupì˜ match_id = 2058017 í”„ë‘ìŠ¤ vs í¬ë¡œì•„í‹°ì•„ ê²½ê¸°ì˜ 132 seq_idì˜ ê³µê²© ê²½ë¡œ ì…ë‹ˆë‹¤.


```python
#ìœ„ì— ì½”ë“œëŠ” ìƒëµ ë˜ì—ˆìŠµë‹ˆë‹¤. ( ê²°ê³¼ë¬¼ ì¶œë ¥ í›„ ipynbì—ì„œ ì‚­ì œì²˜ë¦¬)
# 4 ê³µê²© ì´ë²¤íŠ¸ ìŠ¤í€€ìŠ¤ ì‹œê°í™”.ipynbì—ì„œ ì‹¤í–‰ í•´ì£¼ì„¸ìš”.
seq_id = 132
first_idx = seq_records.at[seq_id, 'first_idx']
last_idx = seq_records.at[seq_id, 'last_idx']
visualize_sequence(match_events, first_idx, last_idx)
```


    
![png](output_17_0.png)
    





<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>display_time</th>
      <th>team_name</th>
      <th>player_name</th>
      <th>event_type</th>
      <th>sub_event_type</th>
      <th>tags</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1010</th>
      <td>2H 19:08</td>
      <td>France</td>
      <td>B. Matuidi</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1011</th>
      <td>2H 19:10</td>
      <td>France</td>
      <td>A. Griezmann</td>
      <td>Duel</td>
      <td>Ground attacking duel</td>
      <td>[Neutral, Accurate]</td>
    </tr>
    <tr>
      <th>1012</th>
      <td>2H 19:10</td>
      <td>Croatia</td>
      <td>M. BrozoviÄ‡</td>
      <td>Duel</td>
      <td>Ground defending duel</td>
      <td>[Neutral, Accurate]</td>
    </tr>
    <tr>
      <th>1013</th>
      <td>2H 19:12</td>
      <td>France</td>
      <td>A. Griezmann</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1014</th>
      <td>2H 19:14</td>
      <td>France</td>
      <td>S. N'Zonzi</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1015</th>
      <td>2H 19:16</td>
      <td>France</td>
      <td>P. Pogba</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1016</th>
      <td>2H 19:20</td>
      <td>France</td>
      <td>L. HernÃ¡ndez</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1017</th>
      <td>2H 19:21</td>
      <td>France</td>
      <td>B. Matuidi</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1018</th>
      <td>2H 19:24</td>
      <td>France</td>
      <td>P. Pogba</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1019</th>
      <td>2H 19:25</td>
      <td>France</td>
      <td>S. N'Zonzi</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1020</th>
      <td>2H 19:26</td>
      <td>France</td>
      <td>P. Pogba</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1021</th>
      <td>2H 19:28</td>
      <td>France</td>
      <td>L. HernÃ¡ndez</td>
      <td>Duel</td>
      <td>Ground attacking duel</td>
      <td>[Take on left, Won, Accurate]</td>
    </tr>
    <tr>
      <th>1022</th>
      <td>2H 19:28</td>
      <td>Croatia</td>
      <td>M. MandÅ¾ukiÄ‡</td>
      <td>Duel</td>
      <td>Ground defending duel</td>
      <td>[Take on right, Sliding tackle, Lost, Not accu...</td>
    </tr>
    <tr>
      <th>1023</th>
      <td>2H 19:30</td>
      <td>France</td>
      <td>L. HernÃ¡ndez</td>
      <td>Others on the ball</td>
      <td>Acceleration</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1024</th>
      <td>2H 19:34</td>
      <td>France</td>
      <td>L. HernÃ¡ndez</td>
      <td>Pass</td>
      <td>Simple pass</td>
      <td>[Accurate]</td>
    </tr>
    <tr>
      <th>1025</th>
      <td>2H 19:37</td>
      <td>France</td>
      <td>K. MbappÃ©</td>
      <td>Shot</td>
      <td>Shot</td>
      <td>[Goal, Right foot, Opportunity, Position: Goal...</td>
    </tr>
  </tbody>
</table>
</div>



<br>
<br>

#### 5. ê²½ê¸°ë³„ ìŠˆíŒ… ì°¨íŠ¸ì™€ xG ì‹œê°í™”
#### ë¶„ì„ íŒ€ì˜ ìŠˆíŒ…ì´ ì–¼ë§ˆë‚˜ ìœ„í˜‘ì ì¸ ìŠˆíŒ…ì¸ì§€ ë¨¸ì‹ ëŸ¬ë‹ì„ í†µí•´ í™•ì¸í•´ë³´ì„¸ìš”.
* <span style="color:skyblue">**"5 ìŠˆíŒ… xG ì‹œê°í™”.ipynb"**</span> íŒŒì¼ì„ í†µí•´ ì›í•˜ëŠ” ê²½ê¸°ì˜ ìŠˆíŒ… ì°¨íŠ¸ì™€ xGë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.
    * ë¶„ì„ì„ í¬ë§í•˜ëŠ” match_idë¥¼ ë„£ì–´ì£¼ì„¸ìš” ("2 ë¶„ì„ í¬ë§ ë°ì´í„° ì°¾ê¸°.ipynb" ì°¸ê³ )
    * xGëŠ” ìŠˆíŒ…ë³„ ê³¨ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” í™•ë¥ ì— ëŒ€í•œ ê¸°ëŒ€ ê°’ì…ë‹ˆë‹¤.
    * Logistic Regression ëª¨ë¸ë¡œ ë¡œì§€ìŠ¤í‹± íšŒê·€ ë¶„ì„ì„ ìˆ˜í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.
        * scrí´ë”ì˜ xgml.pyëŠ” class101_íŒŒì´í˜•ì¸ê°„ì˜ ì½”ë“œë¥¼ í™œìš© ì œì‘í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

* gitì˜ ìš©ëŸ‰ ë¬¸ì œë¡œ ê¸°ë³¸ dataëŠ” ì›”ë“œì»µ ë°ì´í„°ë§Œ í¬í•¨ë©ë‹ˆë‹¤.
    * ë”°ë¼ì„œ 7ê°œ ëŒ€íšŒ ë°ì´í„° í•™ìŠµê³¼ ë¹„êµí–ˆì„ ë•Œ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    * <span style="color:skyblue">"1 ë°ì´í„° ì¤€ë¹„.ipynb"</span>ë¥¼ í†µí•´ 7ê°œ ëŒ€íšŒ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
    
<br>

* ì•„ë˜ ì˜ˆì‹œ ì½”ë“œì™€ ì¶œë ¥ë¬¼ì€ World_Cupì˜ match_id = 2057987 ëŒ€í•œë¯¼êµ­ vs ë©•ì‹œì½” ê²½ê¸°ì˜ ìŠˆíŒ…ì°¨íŠ¸ì…ë‹ˆë‹¤.


```python
#ìœ„ì— ì½”ë“œëŠ” ìƒëµ ë˜ì—ˆìŠµë‹ˆë‹¤. ( ê²°ê³¼ë¬¼ ì¶œë ¥ í›„ ipynbì—ì„œ ì‚­ì œì²˜ë¦¬)
# 5 ìŠˆíŒ… xG ì‹œê°í™”.ipynbì—ì„œ ì‹¤í–‰ í•´ì£¼ì„¸ìš”.
team1_xg = team1_shots['xg'].sum().round(2)
team2_xg = team2_shots['xg'].sum().round(2)
title = f"{team1_name} - {team2_name} (xG: {team1_xg} - {team2_xg})"
fig = go.Figure(data=[shot_trace, team1_goal_trace, team2_goal_trace], layout=get_pitch_layout(title))
fig.show()
```



#### 7ê°œ ëŒ€íšŒ ìŠˆíŒ… ë°ì´í„°ì— ëŒ€í•œ ë¡œì§€ìŠ¤í‹± íšŒê·€ ëª¨ë¸ í•™ìŠµ ì‹œê°í™”

<p float="left">
  <img src="img/ml1.png" width="50%" />
  <img src="img/ml2.png" width="50%" /> 
</p>

<br>
ì„ ìˆ˜ë³„ xG ë¶„ì„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ì˜ˆì •....
* coming soon

<br>
<br>

----

#### ìŠ¤í¬ìŠ¤ ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ í•™ê³„ ì „ë§

* ì˜ë£Œ, ìì—°ì–´, ì»´í“¨í„° ë¹„ì ¼ì— ëŒ€í•œ ì—°êµ¬ëŠ” ìˆ˜ ë§ì€ ì¸ì¬ë“¤ì´ ì—°êµ¬ë¥¼ ì§„í–‰ ì¤‘ì´ì§€ë§Œ, ìŠ¤í¬ì¸  ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ë¶„ì•¼ì— ëŒ€í•œ ê´€ì‹¬ì€ ë†’ì§€ ì•Šë‹¤.
* í•˜ì§€ë§Œ ì¶•êµ¬ ì„ ìˆ˜ë“¤ì˜ ëª¸ ê°’ì€ ì²œë¬¸í•™ì ì´ë©° ì¶•êµ¬ ì—…ê³„ëŠ” ì—¬ì „íˆ ì •ëŸ‰ì ì¸ ë°©ë²•ì˜ ë¶„ì„ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
* ë”°ë¼ì„œ ìŠ¤í¬ì¸  ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤ ë¶„ì•¼ì˜ ì ì¬ì  ê°€ì¹˜ëŠ” í¬ë‹¤.
<br>

* ì·¨ë¯¸ê°€ ì§ì—…ì´ ë  ìˆ˜ë„ ìˆë‹¤ëŠ” ìƒê°ì„ í•˜ë©´ì„œ,
* ìš°ì„ ì€ ì·¨ë¯¸ë¼ë„ ì¶•êµ¬ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ë¶„ì„ì„ í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

<br>

#### ì‹œê°í™” ë°ì´í„° í™œìš© ë°©ë²•
* ê³µê²© ìŠ¤í€€ìŠ¤ ë¶„ì„ì„ í†µí•´ íŒ€ì˜ ê³µê²© ê²½í–¥ì„±ì„ ë¶„ì„í•˜ëŠ” ë°©ë²•
    - https://dl.acm.org/doi/pdf/10.1145/3219819.3219832 ë…¼ë¬¸ ì°¸ì¡°
* ì„ ìˆ˜ì˜ ì´ë²¤íŠ¸ ì•¡ì…˜ê³¼ ë“ì  ê¸°ì—¬ë„ì— ê´€í•œ ë¶„ì„ ë°©ë²•
    - https://arxiv.org/pdf/1802.07127.pdf ë…¼ë¬¸ì°¸ì¡°

<br>
<br>

----
## ReferenceğŸ™
* class101 íŒŒì´í˜•ì¸ê°„ë‹˜ê»˜ì„œ ì˜¤í”ˆí•´ì£¼ì‹  ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
    1. data_utils.py
    2. plot_utils.py

## Developer
* 22102167 ê¸¸ë¯¼ê·œ
